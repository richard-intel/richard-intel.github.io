<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>DevBlog</title>
</head>

<body>
  <section class="section">
    <div class="container">
      
<h2>
	<div>
		<span><a href="https:&#x2F;&#x2F;richard-intel.github.io&#x2F;">Home</a></span>
	  <span><a href="https://richard-intel.github.io/blog/">Blog</a></span>
	</div>
</h2>
<h1 class="title">
  [Rust CLI Tool] just
</h1>
<p class="subtitle"><strong>2022-10-27</strong></p>
<p>Deno is a command runner.</p>
<p><a href="https://github.com/casey/just">https://github.com/casey/just</a></p>
<p>You can install it with cargo:</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">cargo</span><span> install just
</span></code></pre>
<h3 id="usage">Usage</h3>
<p>Once <code>just</code> is installed and working, create a file named <code>justfile</code> in the root of your project with the following contents:</p>
<pre data-lang="make" style="background-color:#2b303b;color:#c0c5ce;" class="language-make "><code class="language-make" data-lang="make"><span style="color:#8fa1b3;">recipe-name</span><span>:
</span><span>  </span><span style="color:#96b5b4;">echo </span><span>&#39;</span><span style="color:#a3be8c;">This is a recipe!</span><span>&#39;
</span><span>
</span><span style="color:#65737e;"># this is a comment
</span><span style="color:#8fa1b3;">another-recipe</span><span>:
</span><span>  </span><span style="color:#d08770;">@</span><span style="color:#96b5b4;">echo </span><span>&#39;</span><span style="color:#a3be8c;">This is another recipe.</span><span>&#39;
</span></code></pre>
<p>When you invoke <code>just</code> it looks for file <code>justfile</code> in the current directory and upwards, so you can invoke it from any subdirectory of your project.</p>
<p>The search for a <code>justfile</code> is case insensitive, so any case, like <code>Justfile</code>, <code>JUSTFILE</code>, or <code>JuStFiLe</code>, will work. <code>just</code> will also look for files with the name <code>.justfile</code>, in case you'd like to hide a <code>justfile</code>.</p>
<p>Running <code>just</code> with no arguments runs the first recipe in the <code>justfile</code>:</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">$</span><span> just
</span><span style="color:#96b5b4;">echo </span><span>&#39;</span><span style="color:#a3be8c;">This is a recipe!</span><span>&#39;
</span><span style="color:#bf616a;">This</span><span> is a recipe!
</span></code></pre>
<p>One or more arguments specify the recipe(s) to run:</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">$</span><span> just another-recipe
</span><span style="color:#bf616a;">This</span><span> is another recipe.
</span></code></pre>
<p><code>just</code> prints each command to standard error before running it, which is why <code>echo 'This is a recipe!'</code> was printed. This is suppressed for lines starting with <code>@</code>, which is why <code>echo 'This is another recipe.'</code> was not printed.</p>
<p>Recipes stop running if a command fails. Here <code>cargo publish</code> will only run if <code>cargo test</code> succeeds:</p>
<pre data-lang="make" style="background-color:#2b303b;color:#c0c5ce;" class="language-make "><code class="language-make" data-lang="make"><span style="color:#8fa1b3;">publish</span><span>:
</span><span>  </span><span style="color:#bf616a;">cargo</span><span> test
</span><span>  </span><span style="color:#65737e;"># tests passed, time to publish!
</span><span>  </span><span style="color:#bf616a;">cargo</span><span> publish
</span></code></pre>


    </div>
  </section>
</body>

</html>